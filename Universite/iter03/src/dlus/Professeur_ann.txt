/* V00-sans-annulabilitÃ© */
---------------------------
var Professeur {matriculeP : Matricule, nom : Nom, bureau : Bureau}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour nom "nom" et pour bureau "bureau". Â»
  df matriculeP -> nom
  df matriculeP -> bureau
  cle {matriculeP}

/* V01-annulabilitÃ© simple (PJ) */
----------------------------------
var Professeur {matriculeP : Matricule, nom : Nom}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour nom "nom". Â»
  df matriculeP -> nom
  cle {matriculeP}

var Professeur_Bureau_PRE {matriculeP : Matricule, bureau : Bureau}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour bureau "bureau". Â»
  df matriculeP -> bureau
  cle {matriculeP}
  ref {matriculeP} -> Professeur

-- vue originale
vue Professeur%complet := Professeur â¨ Professeur_Bureau_PRE

/* V02-annulabilitÃ© avec cause (PJ+RU) */
-----------------------------------------
var Professeur {matriculeP : Matricule, nom : Nom}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour nom "nom". Â»
  df matriculeP -> nom
  cle {matriculeP}

var Professeur_Bureau_PRE {matriculeP : Matricule, bureau : Bureau}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour bureau "bureau". Â»
  df matriculeP -> bureau
  cle {matriculeP}
  ref {matriculeP} -> Professeur

var Professeur_Bureau_ABS {matriculeP : Matricule, cause : Cause}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" n'a pas de bureau
         pour la raison "cause". Â»
  df matriculeP -> cause
  cle {matriculeP}
  ref {matriculeP} -> Professeur

inv Professeur_Bureau_INV
  pred Â« Tout professeur a soit un bureau soit une raison pour laquelle il nâ€™en a pas. Â»
  Professeur ğ¹ {matriculeP} =
    ((Professeur_Bureau_ABS ğ¹ {matriculeP})
      UnionD (Professeur_Bureau_PRE ğ¹ {matriculeP})

-- vue originale
type Bureau_ann : Bureau âˆª Cause
vue Professeur%complet {matriculeP : Matricule, nom : Nom, bureau : Bureau_ann} :=
  Professeur â¨ (
     Professeur_Bureau_PRE ğ›’ {bureau:b} ğƒ {bureau := Bureau_ann[b]} ğ¹ {matriculeB, bureau}
     UnionD
     Professeur_Bureau_ABS ğƒ {bureau := Bureau_ann[cause]} ğ¹ {matriculeB, bureau}
     )

/* V03-annulable-facile */
--------------------------
var Professeur {matriculeP : Matricule, nom : Nom, bureau : Bureau @NULC, site : Site @NULC}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour nom "nom" et pour bureau "bureau". Â»
  df matriculeP -> nom
  df matriculeP -> bureau
  cle {matriculeP}

/* V04-expansion-de-la-V03 */
-----------------------------
var Professeur {matriculeP : Matricule, nom : Nom}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour nom "nom". Â»
  df matriculeP -> nom
  cle {matriculeP}

var Professeur_Bureau_PRE {matriculeP : Matricule, bureau : Bureau}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour bureau "bureau". Â»
  df matriculeP -> bureau
  cle {matriculeP}
  ref {matriculeP} -> Professeur

var Professeur_Bureau_ABS {matriculeP : Matricule, cause : Cause}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" n'a pas de bureau pour la raison "cause". Â»
  df matriculeP -> cause
  cle {matriculeP}
  ref {matriculeP} -> Professeur

inv Professeur_Bureau_INV
  pred Â« Tout professeur a soit un bureau soit une raison pour laquelle il nâ€™en a pas. Â»
  Professeur ğ¹ {matriculeP} =
    ((Professeur_Bureau_ABS ğ¹ {matriculeP})
      UnionD (Professeur_Bureau_PRE ğ¹ {matriculeP})

var Professeur_Site_PRE {matriculeP : Matricule, site : Site}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" a pour site "site". Â»
  df matriculeP -> site
  cle {matriculeP}
  ref {matriculeP} -> Professeur

var Professeur_Site_ABS {matriculeP : Matricule, cause : Cause}
  pred Â« Le professeur identifiÃ© par le matricule "matriculeP" n'a pas de site pour la raison "cause". Â»
  df matriculeP -> cause
  cle {matriculeP}
  ref {matriculeP} -> Professeur

inv Professeur_Site_INV
  pred Â« Tout professeur a soit un site soit une raison pour laquelle il nâ€™en a pas. Â»
  Professeur ğ¹ {matriculeP} =
    ((Professeur_Site_ABS ğ¹ {matriculeP})
      UnionD (Professeur_Site_PRE ğ¹ {matriculeP})

-- vue originale
type Bureau_ann : Site âˆª Cause
vue Professeur%complet {matriculeP : Matricule, nom : Nom, bureau : Bureau_ann} :=
  Professeur â¨ (
     Professeur_Bureau_PRE ğ›’ {bureau:b} ğƒ {bureau := Bureau_ann[b]} ğ¹ {matriculeB, bureau}
     UnionD
     Professeur_Bureau_ABS ğƒ {bureau := Bureau_ann[cause]} ğ¹ {matriculeB, bureau}
     ) â¨ (
     Professeur_Site_PRE ğ›’ {site:s} ğƒ {site := Site_ann[s]} ğ¹ {matriculeB, site}
     UnionD
     Professeur_Site_ABS ğƒ {site := Site_ann[cause]} ğ¹ {matriculeB, site}
     )

